groups:
  - name: microservices-alerts
    rules:
      - alert: HighHttp5xxErrorRate
        expr: rate(http_server_requests_seconds_count{status=~"5.."}[1m]) > 1
        for: 30s
        labels:
          severity: critical
        annotations:
          summary: "Nhiều lỗi 5xx xuất hiện"
          description: "Service {{ $labels.job }} có nhiều lỗi HTTP 5xx trong 1 phút qua."
